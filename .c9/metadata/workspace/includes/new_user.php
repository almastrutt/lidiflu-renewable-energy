{"filter":false,"title":"new_user.php","tooltip":"/includes/new_user.php","undoManager":{"mark":17,"position":17,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["n"],"id":1}],[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["e"],"id":2}],[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["w"],"id":3}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["_"],"id":4}],[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["u"],"id":5}],[{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"insert","lines":["s"],"id":6}],[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["e"],"id":7}],[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["r"],"id":8}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["."],"id":9}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":["p"],"id":10}],[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"insert","lines":["h"],"id":11}],[{"start":{"row":0,"column":11},"end":{"row":0,"column":12},"action":"insert","lines":["p"],"id":12}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":12},"action":"remove","lines":["new_user.php"],"id":13},{"start":{"row":0,"column":0},"end":{"row":108,"column":0},"action":"insert","lines":["Designing & Developing an Interactive Media Product","H2X8 35","Creating a New Users Page","For this exercise you will create a PHP page that will create a new user. For your PHP Login Page, we will:","• Create your new_user.php page","• Create a insert_user.php script.","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35","Create your new_user.php page","Create a new file in the includes folder by highlighting the includes folder and pressing the right","mouse button. This will bring up the menu list, select New File. Name the file new_user.php. Open the file by double-clicking on it. Once opened enter the following code, which includes","comment lines describing it function in orange."," <!-- The code below will create a table with which we will POST the entered information to the insert_user.php script, which in turn will update the tblUsers and tblLogin tables -->","<h2>Add User</h2>"," <form method=\"post\" action=\"../config/insert_user.php\">","<table class=\"newuser\"> <caption>Account Details</caption> <thead>","<tr>","<th style=\"width:10%\">Title</th>","<th style=\"width:45%\">First Name</th> <th style=\"width:45%\">Last Name</th>","</tr> </thead> <tbody>","<tr> <td>","<select name=\"title\" autofocus=\"autofocus\"> <option value=\"\"></option>","<option value=\"Mr\">Mr</option>","<option value=\"Miss\">Miss</option> <option value=\"Mrs\">Mrs</option>","</select>","</td>","<td><input type=\"text\" name=\"fname\" required=\"required\" /></td> <td><input type=\"text\" name=\"lname\" required=\"required\" /></td>","</tr> </tbody>","</table>"," <table class=\"newuser\"> <thead>","<tr>","<th style=\"width:100%\">Address</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"address\" required=\"required\" </td>","</tr>","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," </tbody> </table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:25%\">Post Code</th>","<th style=\"width=25%\">Home Number</th> <th style=\"width=25%\">Work Number</th> <th style=\"width=25%\">Mobile Number</th>","</tr> </thead> <tbody>","<tr>"," <td><input type=\"text\" name=\"pcode\" required=\"required\" maxlength=\"10\" /></td> <td><input type=\"tel\" name=\"hometel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"worktel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"mobile\" maxlength=\"15\" /></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:50%\">Email Address</th> <th style=\"width=25%\">Role</th>","<th style=\"width=25%\">Disclosure</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"email\" name=\"email\" required=\"required\" /> </td> <td><input type=\"text\" name=\"role\" required=\"required\" /></td> <td><input type=\"checkbox\" name=\"disclosure\"/></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <caption>Sign In Details</caption>"," <thead> <tr>","<th style=\"width:33.3%\">Username</th>","<th style=\"width:33.3%\">Password</th>","<th style=\"width:33.3%\">Confirm Password</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"username\" required=\"required\" /></td>","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," <td><input type=\"password\" name=\"password\" required=\"required\" /></td>","<td><input type=\"password\" name=\"confirm\" required=\"required\" /></td> </tr>","</tbody> </table>","<input type=\"submit\" name=\"insert\" value=\"Insert\" id=\"submit-button\" /> <input type=\"reset\" name=\"reset\" value=\"Reset\" id=\"reset-button\" />","</form>"," From the Menu bar click File and then Save to save the file.","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35","Create a insert_user.php script","Create a new file in the config folder by highlighting the config folder and pressing the right mouse","button. This will bring up the menu list, select New File. Name the file insert_user.php. Open the file by double-clicking on it. Once opened enter the following code, which includes","comment lines describing it function in orange."," <?php","# The code below takes the POSTED data # and binds in to the two SQL statements # which will update the tables","require_once('../config/db_connect.php');"," if(isset($_POST['insert'])){","$title = $_POST['title'];","$fname =$_POST['fname']; $lname = $_POST['lname']; $address = $_POST['address']; $postcode = $_POST['pcode']; $hometel = $_POST['hometel']; $worktel = $_POST['worktel']; $mobile = $_POST['mobile']; $email = $_POST['email'];","$role = $_POST['role'];","$username = $_POST['username']; $password = $_POST['password']; $disclosure = $_POST['disclosure'];","$insertuser = \"INSERT INTO tblUsers (title, firstname, lastname, address, postcode, home_num, work_num, mobile, email,","role, username, disclosure)","VALUE (:title, :fname, :lname, :address, :pcode, :hometel, :worktel, :mobile, :email, :role, :username, :disclosure)\";","$insertlogin = \"INSERT INTO tblLogin (username, password, email, role) VALUE (:username, :password, :email, :role)\";","$resultuser = $db->prepare($insertuser);"," $resultuser->bindParam(':title', $title); $resultuser->bindParam(':fname', $fname); $resultuser->bindParam(':lname', $lname); $resultuser->bindParam(':address', $address); $resultuser->bindParam(':pcode', $pcode); $resultuser->bindParam(':hometel', $hometel); $resultuser->bindParam(':worktel', $worktel); $resultuser->bindParam(':mobile', $mobile); $resultuser->bindParam('email', $email); $resultuser->bindParam(':role', $role); $resultuser->bindParam(':username', $username);","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," $resultuser->bindParam(':disclosure', $disclosure); $resultuser->execute();","$resultlogin = $db->prepare($insertlogin); $resultlogin->bindParam(':username', $username); $resultlogin->bindParam(':password', $password); $resultlogin->bindParam(':email', $email); $resultlogin->bindParam(':role', $role); $resultlogin->execute();","header(\"location: ../admin.php\"); };"," ?>","From the Menu bar click File and then Save to save the file.","Paul Dorman",""]}],[{"start":{"row":0,"column":0},"end":{"row":108,"column":0},"action":"remove","lines":["Designing & Developing an Interactive Media Product","H2X8 35","Creating a New Users Page","For this exercise you will create a PHP page that will create a new user. For your PHP Login Page, we will:","• Create your new_user.php page","• Create a insert_user.php script.","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35","Create your new_user.php page","Create a new file in the includes folder by highlighting the includes folder and pressing the right","mouse button. This will bring up the menu list, select New File. Name the file new_user.php. Open the file by double-clicking on it. Once opened enter the following code, which includes","comment lines describing it function in orange."," <!-- The code below will create a table with which we will POST the entered information to the insert_user.php script, which in turn will update the tblUsers and tblLogin tables -->","<h2>Add User</h2>"," <form method=\"post\" action=\"../config/insert_user.php\">","<table class=\"newuser\"> <caption>Account Details</caption> <thead>","<tr>","<th style=\"width:10%\">Title</th>","<th style=\"width:45%\">First Name</th> <th style=\"width:45%\">Last Name</th>","</tr> </thead> <tbody>","<tr> <td>","<select name=\"title\" autofocus=\"autofocus\"> <option value=\"\"></option>","<option value=\"Mr\">Mr</option>","<option value=\"Miss\">Miss</option> <option value=\"Mrs\">Mrs</option>","</select>","</td>","<td><input type=\"text\" name=\"fname\" required=\"required\" /></td> <td><input type=\"text\" name=\"lname\" required=\"required\" /></td>","</tr> </tbody>","</table>"," <table class=\"newuser\"> <thead>","<tr>","<th style=\"width:100%\">Address</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"address\" required=\"required\" </td>","</tr>","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," </tbody> </table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:25%\">Post Code</th>","<th style=\"width=25%\">Home Number</th> <th style=\"width=25%\">Work Number</th> <th style=\"width=25%\">Mobile Number</th>","</tr> </thead> <tbody>","<tr>"," <td><input type=\"text\" name=\"pcode\" required=\"required\" maxlength=\"10\" /></td> <td><input type=\"tel\" name=\"hometel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"worktel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"mobile\" maxlength=\"15\" /></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:50%\">Email Address</th> <th style=\"width=25%\">Role</th>","<th style=\"width=25%\">Disclosure</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"email\" name=\"email\" required=\"required\" /> </td> <td><input type=\"text\" name=\"role\" required=\"required\" /></td> <td><input type=\"checkbox\" name=\"disclosure\"/></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <caption>Sign In Details</caption>"," <thead> <tr>","<th style=\"width:33.3%\">Username</th>","<th style=\"width:33.3%\">Password</th>","<th style=\"width:33.3%\">Confirm Password</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"username\" required=\"required\" /></td>","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," <td><input type=\"password\" name=\"password\" required=\"required\" /></td>","<td><input type=\"password\" name=\"confirm\" required=\"required\" /></td> </tr>","</tbody> </table>","<input type=\"submit\" name=\"insert\" value=\"Insert\" id=\"submit-button\" /> <input type=\"reset\" name=\"reset\" value=\"Reset\" id=\"reset-button\" />","</form>"," From the Menu bar click File and then Save to save the file.","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35","Create a insert_user.php script","Create a new file in the config folder by highlighting the config folder and pressing the right mouse","button. This will bring up the menu list, select New File. Name the file insert_user.php. Open the file by double-clicking on it. Once opened enter the following code, which includes","comment lines describing it function in orange."," <?php","# The code below takes the POSTED data # and binds in to the two SQL statements # which will update the tables","require_once('../config/db_connect.php');"," if(isset($_POST['insert'])){","$title = $_POST['title'];","$fname =$_POST['fname']; $lname = $_POST['lname']; $address = $_POST['address']; $postcode = $_POST['pcode']; $hometel = $_POST['hometel']; $worktel = $_POST['worktel']; $mobile = $_POST['mobile']; $email = $_POST['email'];","$role = $_POST['role'];","$username = $_POST['username']; $password = $_POST['password']; $disclosure = $_POST['disclosure'];","$insertuser = \"INSERT INTO tblUsers (title, firstname, lastname, address, postcode, home_num, work_num, mobile, email,","role, username, disclosure)","VALUE (:title, :fname, :lname, :address, :pcode, :hometel, :worktel, :mobile, :email, :role, :username, :disclosure)\";","$insertlogin = \"INSERT INTO tblLogin (username, password, email, role) VALUE (:username, :password, :email, :role)\";","$resultuser = $db->prepare($insertuser);"," $resultuser->bindParam(':title', $title); $resultuser->bindParam(':fname', $fname); $resultuser->bindParam(':lname', $lname); $resultuser->bindParam(':address', $address); $resultuser->bindParam(':pcode', $pcode); $resultuser->bindParam(':hometel', $hometel); $resultuser->bindParam(':worktel', $worktel); $resultuser->bindParam(':mobile', $mobile); $resultuser->bindParam('email', $email); $resultuser->bindParam(':role', $role); $resultuser->bindParam(':username', $username);","Paul Dorman","","Designing & Developing an Interactive Media Product H2X8 35"," $resultuser->bindParam(':disclosure', $disclosure); $resultuser->execute();","$resultlogin = $db->prepare($insertlogin); $resultlogin->bindParam(':username', $username); $resultlogin->bindParam(':password', $password); $resultlogin->bindParam(':email', $email); $resultlogin->bindParam(':role', $role); $resultlogin->execute();","header(\"location: ../admin.php\"); };"," ?>","From the Menu bar click File and then Save to save the file.","Paul Dorman",""],"id":14},{"start":{"row":0,"column":0},"end":{"row":22,"column":5},"action":"insert","lines":["<h2>Add User</h2>","<form method=\"post\" action=\"../config/insert_user.php\">","<table class=\"newuser\"> <caption>Account Details</caption> <thead>","<tr>","<th style=\"width:10%\">Title</th>","<th style=\"width:45%\">First Name</th> <th style=\"width:45%\">Last Name</th>","</tr> </thead> <tbody>","<tr> <td>","<select name=\"title\" autofocus=\"autofocus\"> <option value=\"\"></option>","<option value=\"Mr\">Mr</option>","<option value=\"Miss\">Miss</option> <option value=\"Mrs\">Mrs</option>","</select>","</td>","<td><input type=\"text\" name=\"fname\" required=\"required\" /></td> <td><input type=\"text\" name=\"lname\" required=\"required\" /></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:100%\">Address</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"address\" required=\"required\" </td>","</tr>"]}],[{"start":{"row":22,"column":5},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":15}],[{"start":{"row":23,"column":0},"end":{"row":51,"column":66},"action":"insert","lines":["</tbody> </table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:25%\">Post Code</th>","<th style=\"width=25%\">Home Number</th> <th style=\"width=25%\">Work Number</th> <th style=\"width=25%\">Mobile Number</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"pcode\" required=\"required\" maxlength=\"10\" /></td> <td><input type=\"tel\" name=\"hometel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"worktel\" maxlength=\"15\" /></td>","<td><input type=\"tel\" name=\"mobile\" maxlength=\"15\" /></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <thead>","<tr>","<th style=\"width:50%\">Email Address</th> <th style=\"width=25%\">Role</th>","<th style=\"width=25%\">Disclosure</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"email\" name=\"email\" required=\"required\" /> </td> <td><input type=\"text\" name=\"role\" required=\"required\" /></td> <td><input type=\"checkbox\" name=\"disclosure\"/></td>","</tr> </tbody>","</table>","<table class=\"newuser\"> <caption>Sign In Details</caption>","<thead> <tr>","<th style=\"width:33.3%\">Username</th>","<th style=\"width:33.3%\">Password</th>","<th style=\"width:33.3%\">Confirm Password</th>","</tr> </thead> <tbody>","<tr>","<td><input type=\"text\" name=\"username\" required=\"required\" /></td>"],"id":16}],[{"start":{"row":51,"column":66},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":17}],[{"start":{"row":52,"column":0},"end":{"row":56,"column":7},"action":"insert","lines":["<td><input type=\"password\" name=\"password\" required=\"required\" /></td>","<td><input type=\"password\" name=\"confirm\" required=\"required\" /></td> </tr>","</tbody> </table>","<input type=\"submit\" name=\"insert\" value=\"Insert\" id=\"submit-button\" /> <input type=\"reset\" name=\"reset\" value=\"Reset\" id=\"reset-button\" />","</form>"],"id":18}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":56,"column":7},"end":{"row":56,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"e39a139328ca93d3680871633311159965045a13","timestamp":1525808100394}