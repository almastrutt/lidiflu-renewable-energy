{"changed":true,"filter":false,"title":"allproducts.js","tooltip":"/js/allproducts.js","value":"// Student name: Alma Strutt\n//this code retrieves JSON data from a file and displays it on the product page\n\nfunction handleSuccess() {\n    const data = JSON.parse(this.responseText);\n      for (var item in data.records) {\n          if (data.records.hasOwnProperty(item)) {\n         var fl = document.createElement(\"article\");\n         \n         var flex_item1 = document.createElement(\"div\");\n          flex_item1.className += \"flex-item first-item simpleCart_shelfItem\";\n          \n          \n          var h4 = document.createElement(\"h4\");\n          h4.textContent = data.records[item]['name'];\n          h4.className +=\"item_name\";\n          flex_item1.appendChild(h4);\n          \n          var p = document.createElement(\"p\");\n          p.textContent = data.records[item]['description'];\n          flex_item1.appendChild(p);\n          \n          var h6 = document.createElement(\"h6\");\n          h6.textContent = \"Price:  £\"+ data.records[item]['price'];\n          h6.className +=\"item_price\";\n          flex_item1.appendChild(h6);\n          \n          var span = document.createElement(\"a\");\n          span.textContent = \"Add to cart\";\n          span.href=\"javascript:void(0)\";\n          span.style =\"text-decoration:none;\";\n          span.className +=\"add-to-cart item_add\";\n          flex_item1.appendChild(span);\n          \n          var flex_item2 = document.createElement(\"div\");\n           flex_item2.className +=\"flex-item second-item\";\n           var image = document.createElement(\"img\");\n           image.src =\"images/\" + data.records[item]['image_path'];\n           flex_item2.appendChild(image);\n           \n           fl.appendChild(flex_item1);\n           fl.appendChild(flex_item2);\n           \n           \n            var result =  document.getElementById(\"main\");\n            result.appendChild(fl);\n     }\n   }\n    \n}\n\n\nfunction handleError() {\n    // Function to handle the request if it fails / unsuccessful. \n      var h2 = document.createElement(\"h4\");\n     h2.style.color = \"red\";\n      h2.innerHTML=\" An Error Occurs\";\n      var error = document.getElementById(\"main\");\n      error.appendChild(h2);\n}\n\n// Create an XHR object \nconst xhr = new XMLHttpRequest();\nxhr.open('GET','https://graded-unit-almastrutt01.c9users.io/products/read.php');\nxhr.onload= handleSuccess;\nxhr.onerror = handleError;\nxhr.send();\n","undoManager":{"mark":14,"position":13,"stack":[[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"remove","lines":["l"],"id":2}],[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"remove","lines":["f"],"id":3}],[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"insert","lines":["f"],"id":4}],[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"insert","lines":["l"],"id":5}],[{"start":{"row":25,"column":10},"end":{"row":25,"column":17},"action":"remove","lines":["       "],"id":6}],[{"start":{"row":26,"column":10},"end":{"row":26,"column":17},"action":"remove","lines":["       "],"id":7}],[{"start":{"row":27,"column":10},"end":{"row":27,"column":17},"action":"remove","lines":["       "],"id":8}],[{"start":{"row":28,"column":10},"end":{"row":28,"column":17},"action":"remove","lines":["       "],"id":9}],[{"start":{"row":29,"column":11},"end":{"row":29,"column":17},"action":"remove","lines":["      "],"id":10}],[{"start":{"row":30,"column":11},"end":{"row":30,"column":17},"action":"remove","lines":["      "],"id":11}],[{"start":{"row":29,"column":10},"end":{"row":29,"column":11},"action":"remove","lines":[" "],"id":12}],[{"start":{"row":30,"column":10},"end":{"row":30,"column":11},"action":"remove","lines":[" "],"id":13}],[{"start":{"row":3,"column":0},"end":{"row":65,"column":11},"action":"remove","lines":["function handleSuccess() {","    const data = JSON.parse(this.responseText);","      for (var item in data.records) {","          if (data.records.hasOwnProperty(item)) {","         var fl = document.createElement(\"article\");","         ","         var flex_item1 = document.createElement(\"div\");","          flex_item1.className += \"flex-item first-item simpleCart_shelfItem\"; ","          ","          var h3 = document.createElement(\"h3\");","          h3.textContent = data.records[item]['name'];","          flex_item1.appendChild(h3);","          ","          var p = document.createElement(\"p\");","          p.textContent = data.records[item]['description'];","          flex_item1.appendChild(p);","          ","          var h6 = document.createElement(\"h6\");","          h6.textContent = \"Price:  £\"+ data.records[item]['price'];","          h6.className +=\"item_price\";","          flex_item1.appendChild(h6);","          ","          var span = document.createElement(\"a\");","          span.textContent = \"Buy\";","          span.href=\"javascript:void(0)\";   //-----------------------------------------","          span.style =\"text-decoration:none;\";    //-------------------------------- Remove lines under the link","          span.className +=\"add-to-cart item_add\";  //--------------------------Must add the class that relates to the cart","          flex_item1.appendChild(span);","         ","          ","          var flex_item2 = document.createElement(\"div\");","           flex_item2.className +=\"flex-item second-item\";","           var image = document.createElement(\"img\");","           image.src =\"images/\" + data.records[item]['image_path'];","           flex_item2.appendChild(image);","           ","           fl.appendChild(flex_item1);","           fl.appendChild(flex_item2);","           ","           ","            var result =  document.getElementById(\"main\");","            result.appendChild(fl);","     }","   }","    ","}","","","function handleError() {","    // Function to handle the request if it fails / unsuccessful. ","      var h2 = document.createElement(\"h3\");","     h2.style.color = \"red\";","      h2.innerHTML=\" An Error Occurs\";","      var error = document.getElementById(\"main\");","      error.appendChild(h2);","}","","// Create an XHR object ","const xhr = new XMLHttpRequest();","xhr.open('GET','https://graded-unit-almastrutt01.c9users.io/products/read.php');","xhr.onload= handleSuccess;","xhr.onerror = handleError;","xhr.send();"],"id":14},{"start":{"row":3,"column":0},"end":{"row":66,"column":11},"action":"insert","lines":["function handleSuccess() {","    const data = JSON.parse(this.responseText);","      for (var item in data.records) {","          if (data.records.hasOwnProperty(item)) {","         var fl = document.createElement(\"article\");","         ","         var flex_item1 = document.createElement(\"div\");","          flex_item1.className += \"flex-item first-item simpleCart_shelfItem\";","          ","          ","          var h4 = document.createElement(\"h4\");","          h4.textContent = data.records[item]['name'];","          h4.className +=\"item_name\";","          flex_item1.appendChild(h4);","          ","          var p = document.createElement(\"p\");","          p.textContent = data.records[item]['description'];","          flex_item1.appendChild(p);","          ","          var h6 = document.createElement(\"h6\");","          h6.textContent = \"Price:  £\"+ data.records[item]['price'];","          h6.className +=\"item_price\";","          flex_item1.appendChild(h6);","          ","          var span = document.createElement(\"a\");","          span.textContent = \"Add to cart\";","          span.href=\"javascript:void(0)\";","          span.style =\"text-decoration:none;\";","          span.className +=\"add-to-cart item_add\";","          flex_item1.appendChild(span);","          ","          var flex_item2 = document.createElement(\"div\");","           flex_item2.className +=\"flex-item second-item\";","           var image = document.createElement(\"img\");","           image.src =\"images/\" + data.records[item]['image_path'];","           flex_item2.appendChild(image);","           ","           fl.appendChild(flex_item1);","           fl.appendChild(flex_item2);","           ","           ","            var result =  document.getElementById(\"main\");","            result.appendChild(fl);","     }","   }","    ","}","","","function handleError() {","    // Function to handle the request if it fails / unsuccessful. ","      var h2 = document.createElement(\"h4\");","     h2.style.color = \"red\";","      h2.innerHTML=\" An Error Occurs\";","      var error = document.getElementById(\"main\");","      error.appendChild(h2);","}","","// Create an XHR object ","const xhr = new XMLHttpRequest();","xhr.open('GET','https://gradedunit2-angeline80.c9users.io/products/read.php');","xhr.onload= handleSuccess;","xhr.onerror = handleError;","xhr.send();"]}],[{"start":{"row":63,"column":16},"end":{"row":63,"column":57},"action":"remove","lines":["https://gradedunit2-angeline80.c9users.io"],"id":15},{"start":{"row":63,"column":16},"end":{"row":63,"column":59},"action":"insert","lines":["https://graded-unit-almastrutt01.c9users.io"]}],[{"start":{"row":28,"column":32},"end":{"row":28,"column":33},"action":"insert","lines":["y"],"id":18}],[{"start":{"row":28,"column":31},"end":{"row":28,"column":32},"action":"insert","lines":["u"],"id":17}],[{"start":{"row":28,"column":30},"end":{"row":28,"column":41},"action":"remove","lines":["Add to cart"],"id":16},{"start":{"row":28,"column":30},"end":{"row":28,"column":31},"action":"insert","lines":["B"]}]]},"ace":{"folds":[],"scrolltop":77.5,"scrollleft":0,"selection":{"start":{"row":28,"column":33},"end":{"row":28,"column":33},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":186,"mode":"ace/mode/javascript"}},"timestamp":1527154593233}